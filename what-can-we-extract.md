# Possibilities and Limitations of Text Extraction with our Tool

This document presents examples of the Information or Substrings our Tool can and cannot extract from Buildlogs.

## Travis-Worker Example

At the beginning of each buildlog, Travis mentiones the machine which executes the build. In our metamodel of information in buildlogs we call this the `TravisWorker`. In our samples we find two representations of this information:

Short version: `facebookgo@rocks-strata/166107245.log`, line 1

``` text
Using worker: worker-linux-docker-273f60df.prod.travis-ci.org:travis-linux-11
```

Long version: `facebookgo@rocks-strata/190839612.log`, line 2-6

``` text
Worker information[0m
hostname: ip-10-12-11-106:c287dce3-c64f-43d7-b455-af6557484127
version: v2.5.0-8-g19ea9c2 https://github.com/travis-ci/worker/tree/19ea9c20425c78100500c7cc935892b47024922c
instance: 4444508:travis:go
startup: 1.86043531s
```

We can extract both by using separate synthesized programs:

``` shell
mono pbe-extraction-buildlogs/bin/Debug/pbe-extraction-buildlogs.exe analyze -f facebookgo@rocks-strata/166107245.log -p travis-worker-short
```

``` shell
mono pbe-extraction-buildlogs/bin/Debug/pbe-extraction-buildlogs.exe analyze -f facebookgo@rocks-strata/190839612.log -p travis-worker-long
```

To look at the examples used for synthesizing these programs you can inspect the configuring `.xml` files in `ressources/analysis-programs/`.

Combining both examples into a unified exampleset was not successful. If you try to run the combined set on a file

``` shell
mono pbe-extraction-buildlogs/bin/Debug/pbe-extraction-buildlogs.exe analyze -f facebookgo@rocks-strata/166107245.log -p travis-worker
```

you will see that the synthesis was not able to find a program.

→ It could be that such an "OR" decision on the uppermost level is not possible with the PROSE porgram synthesis

## Android failure

One example of extracting the reason for a build to fail is defined in the `android-failure` exampleset.

This extracts the summarized reason for the `connectbot@connectbot` to fail:
`connectbot@connectbot/5_3995f36cd5af8707a18a741f9018feb23f5ee710_38382864.log`, line 3933 - 3935

``` text
* What went wrong:
Execution failed for task ':app:connectedAndroidTest'.
> com.android.builder.testing.api.DeviceException: java.lang.RuntimeException: No connected devices!
```

You can test this extraction yourself:

``` shell
mono pbe-extraction-buildlogs/bin/Debug/pbe-extraction-buildlogs.exe analyze -f connectbot@connectbot/779_1ad4ab9a05665e01d00dbe37c5e8a7c7b4e5656b_87745143.log -p android-failure
```

⚠️ Learning this program takes quite some time therefore executing this extraction will take a while ⚠️  ️

Take a closer look at the program generated by this program synthesis:

``` ocaml
let s = v in let s = PosToEndRegion(s, RegexPosition(s, RegexPair("ε", "\"Execution failed for task ':app:\""), 1)) in StartToPosRegion(s, RegexPosition(s, RegexPair("ε", "Line Separator◦Line Separator"), 1))
```

This program fails on the following buildlog, which would also have to be included into the examples:

`connectbot@connectbot/311_d36f514d0ceaf115fb82bb8ee25f2c932de139ba_77633507.log`, line 4077 - 4079

``` text
* What went wrong:
Could not determine the dependencies of task ':app:jacocoTestDebugReport'.
> Task with path 'testDebug' not found in project ':app'.
```

If this example is also added (`android-failure-with-dependencies`) the synthesized program changes to:
``` ocaml
let s = v in let s = PosToEndRegion(s, RegexPosition(s, RegexPair("Colon◦Line Separator", "ALL CAPS"), 1)) in StartToPosRegion(s, RegexPosition(s, RegexPair("ε", "Line Separator◦Line Separator"), 1))
````
